!function(){var t=X3D.define;X3D.require;t("x_ite/Browser/Layout/X3DLayoutContext",["jquery","x_ite/Components/Texturing/TextureProperties"],function(t,e){"use strict";function i(){}return i.prototype={getScreenTextureProperties:function(){return void 0===this.screenTextureProperties&&(this.screenTextureProperties=new e(this.getPrivateScene()),this.screenTextureProperties.boundaryModeS_="CLAMP",this.screenTextureProperties.boundaryModeT_="CLAMP",this.screenTextureProperties.boundaryModeR_="CLAMP",this.screenTextureProperties.minificationFilter_="NEAREST",this.screenTextureProperties.magnificationFilter_="NEAREST",this.screenTextureProperties.generateMipMaps_=!1,this.screenTextureProperties.setup()),this.screenTextureProperties},getPointSize:function(){if(void 0===this.pointSize){var e=t("<div></div>");this.pointSize=e.appendTo(t("body")).css("height","1in").css("display","none").height()/72,e.remove()}return this.pointSize}},i}),t("x_ite/Components/Layout/X3DLayoutNode",["x_ite/Components/Core/X3DChildNode","x_ite/Bits/X3DConstants"],function(t,e){"use strict";function i(i){t.call(this,i),this.addType(e.X3DLayoutNode)}return i.prototype=Object.assign(Object.create(t.prototype),{constructor:i}),i}),t("x_ite/Components/Layout/Layout",["x_ite/Fields","x_ite/Basic/X3DFieldDefinition","x_ite/Basic/FieldDefinitionArray","x_ite/Components/Layout/X3DLayoutNode","x_ite/Bits/X3DCast","x_ite/Bits/X3DConstants","standard/Math/Numbers/Vector2","standard/Math/Numbers/Vector3","standard/Math/Numbers/Rotation4","standard/Math/Numbers/Matrix4"],function(t,e,i,n,s,o,r,a,u,h){"use strict";function c(t){n.call(this,t),this.addType(o.Layout),this.alignX=d,this.alignY=d,this.offsetUnitX=g,this.offsetUnitY=g,this.offsetX=0,this.offsetY=0,this.sizeUnitX=g,this.sizeUnitY=g,this.sizeX=1,this.sizeY=1,this.scaleModeX=M,this.scaleModeY=M,this.parent=null,this.rectangleCenter=new r(0,0),this.rectangleSize=new r(0,0),this.matrix=new h}var l=0,p=l++,d=l++,x=l++,f=l++,y=l++,g=l++,_=l++,w=l++,M=l++,m=l++;return c.prototype=Object.assign(Object.create(n.prototype),{constructor:c,viewportPixel:new r(0,0),pixelSize:new r(0,0),translation:new a(0,0,0),offset:new a(0,0,0),scale:new a(1,1,1),currentTranslation:new a(0,0,0),currentRotation:new u(0,0,1,0),currentScale:new a(0,0,0),modelViewMatrix:new h,fieldDefinitions:new i([new e(o.inputOutput,"metadata",new t.SFNode),new e(o.inputOutput,"align",new t.MFString("CENTER","CENTER")),new e(o.inputOutput,"offsetUnits",new t.MFString("WORLD","WORLD")),new e(o.inputOutput,"offset",new t.MFFloat(0,0)),new e(o.inputOutput,"sizeUnits",new t.MFString("WORLD","WORLD")),new e(o.inputOutput,"size",new t.MFFloat(1,1)),new e(o.inputOutput,"scaleMode",new t.MFString("NONE","NONE"))]),getTypeName:function(){return"Layout"},getComponentName:function(){return"Layout"},getContainerField:function(){return"layout"},initialize:function(){n.prototype.initialize.call(this),this.align_.addInterest("set_align__",this),this.offsetUnits_.addInterest("set_offsetUnits__",this),this.offset_.addInterest("set_offset__",this),this.sizeUnits_.addInterest("set_sizeUnits__",this),this.size_.addInterest("set_size__",this),this.scaleMode_.addInterest("set_scaleMode__",this),this.set_align__(),this.set_offsetUnits__(),this.set_offset__(),this.set_sizeUnits__(),this.set_size__(),this.set_scaleMode__()},set_align__:function(){this.align_.length>0?"LEFT"===this.align_[0]?this.alignX=p:"RIGHT"===this.align_[0]?this.alignX=x:this.alignX=d:this.alignX=d,this.align_.length>1?"BOTTOM"===this.align_[1]?this.alignY=f:"TOP"===this.align_[1]?this.alignY=y:this.alignY=d:this.alignY=d},set_offsetUnits__:function(){this.offsetUnits_.length>0?("FRACTION"===this.offsetUnits_[0]?this.offsetUnitX=_:"PIXEL"===this.offsetUnits_[0]?this.offsetUnitX=w:this.offsetUnitX=g,this.offsetUnits_.length>1?"FRACTION"===this.offsetUnits_[1]?this.offsetUnitY=_:"PIXEL"===this.offsetUnits_[1]?this.offsetUnitY=w:this.offsetUnitY=g:this.offsetUnitY=this.offsetUnitX):(this.offsetUnitX=g,this.offsetUnitY=g)},set_offset__:function(){this.offset_.length>0?(this.offsetX=this.offset_[0],this.offset_.length>1?this.offsetY=this.offset_[1]:this.offsetY=offsetX):(this.offsetX=0,this.offsetY=0)},set_sizeUnits__:function(){this.sizeUnits_.length>0?("FRACTION"===this.sizeUnits_[0]?this.sizeUnitX=_:"PIXEL"===this.sizeUnits_[0]?this.sizeUnitX=w:this.sizeUnitX=g,this.sizeUnits_.length>1?"FRACTION"===this.sizeUnits_[1]?this.sizeUnitY=_:"PIXEL"===this.sizeUnits_[1]?this.sizeUnitY=w:this.sizeUnitY=g:this.sizeUnitY=this.sizeUnitX):(this.sizeUnitX=g,this.sizeUnitY=g)},set_size__:function(){this.size_.length>0?(this.sizeX=this.size_[0],this.size_.length>1?this.sizeY=this.size_[1]:this.sizeY=this.sizeX):(this.sizeX=0,this.sizeY=0)},set_scaleMode__:function(){this.scaleMode_.length>0?("FRACTION"===this.scaleMode_[0]?this.scaleModeX=_:"PIXEL"===this.scaleMode_[0]?this.scaleModeX=w:"STRETCH"===this.scaleMode_[0]?this.scaleModeX=m:this.scaleModeX=M,this.scaleMode_.length>1?"FRACTION"===this.scaleMode_[1]?this.scaleModeY=_:"PIXEL"===this.scaleMode_[1]?this.scaleModeY=w:"STRETCH"===this.scaleMode_[1]?this.scaleModeY=m:this.scaleModeY=M:this.scaleModeY=this.scaleModeX):(this.scaleModeX=M,this.scaleModeY=M)},getRectangleCenter:function(){return this.rectangleCenter},getRectangleSize:function(){return this.rectangleSize},getAlignX:function(){return this.alignX},getAlignY:function(){return this.alignY},getOffsetUnitX:function(){return this.offsetUnitX===g?this.parent?this.parent.getOffsetUnitX():_:this.offsetUnitX},getOffsetUnitY:function(){return this.offsetUnitY===g?this.parent?this.parent.getOffsetUnitY():_:this.offsetUnitY},getOffsetX:function(){return this.offsetX},getOffsetY:function(){return this.offsetY},getSizeUnitX:function(){return this.sizeUnitX===g?this.parent?this.parent.getSizeUnitX():_:this.sizeUnitX},getSizeUnitY:function(){return this.sizeUnitY===g?this.parent?this.parent.getSizeUnitY():_:this.sizeUnitY},getSizeX:function(){return this.sizeX},getSizeY:function(){return this.sizeY},getScaleModeX:function(){return this.parent?this.scaleModeX:this.scaleModeX===M?_:this.scaleModeX},getScaleModeY:function(){return this.parent?this.scaleModeY:this.scaleModeY===M?_:this.scaleModeY},transform:function(t,e){var i=this.parent=e.getParentLayout(),n=this.matrix,s=e.getViewpoint(),o=e.getNavigationInfo().getNearValue(),r=e.getViewVolume().getScissor(),a=s.getViewportSize(r,o),u=this.viewportPixel,h=this.pixelSize,c=i?i.getRectangleSize():a,l=this.rectangleSize,g=this.rectangleCenter;switch(u.set(r[2],r[3]),h.assign(a).divVec(u),this.getSizeUnitX()){case _:l.x=this.sizeX*c.x;break;case w:l.x=this.sizeX*h.x}switch(this.getSizeUnitY()){case _:l.y=this.sizeY*c.y;break;case w:l.y=this.sizeY*h.y}var S=this.translation.set(0,0,0);switch(this.getAlignX()){case p:S.x=-(c.x-l.x)/2;break;case d:this.getSizeUnitX()===w&&1&u.x&&(S.x=-h.x/2);break;case x:S.x=(c.x-l.x)/2}switch(this.getAlignY()){case f:S.y=-(c.y-l.y)/2;break;case d:this.getSizeUnitX===w&&1&u.y&&(S.y=-h.y/2);break;case y:S.y=(c.y-l.y)/2}var z=this.offset.set(0,0,0);switch(this.getOffsetUnitX()){case _:z.x=this.offsetX*c.x;break;case w:z.x=this.offsetX*a.x/u.x}switch(this.getOffsetUnitY()){case _:z.y=this.offsetY*c.y;break;case w:z.y=this.offsetY*a.y/u.y}var X=this.scale.set(1,1,1),N=this.currentTranslation,T=this.currentRotation,F=this.currentScale;switch(e.getModelViewMatrix().get().get(N,T,F),this.getScaleModeX()){case M:X.x=F.x;break;case _:X.x=l.x;break;case m:break;case w:X.x=a.x/u.x}switch(this.getScaleModeY()){case M:X.y=F.y;break;case _:X.y=l.y;break;case m:break;case w:X.y=a.y/u.y}return this.getScaleModeX()===m?this.getScaleModeY()===m?l.x>l.y?(X.x=l.x,X.y=X.x):(X.y=l.y,X.x=X.y):X.x=X.y:this.getScaleModeY()===m&&(X.y=X.x),g.assign(S).add(z),n.set(N,T),n.translate(S.add(z)),n.scale(X),n}}),c}),t("x_ite/Components/Layout/LayoutGroup",["x_ite/Fields","x_ite/Basic/X3DFieldDefinition","x_ite/Basic/FieldDefinitionArray","x_ite/Components/Grouping/X3DGroupingNode","x_ite/Bits/X3DCast","x_ite/Bits/TraverseType","x_ite/Bits/X3DConstants","standard/Math/Numbers/Matrix4"],function(t,e,i,n,s,o,r,a){"use strict";function u(t){n.call(this,t),this.addType(r.LayoutGroup),this.viewportNode=null,this.layoutNode=null,this.modelViewMatrix=new a,this.screenMatrix=new a}return u.prototype=Object.assign(Object.create(n.prototype),{constructor:u,fieldDefinitions:new i([new e(r.inputOutput,"metadata",new t.SFNode),new e(r.inputOutput,"layout",new t.SFNode),new e(r.inputOutput,"viewport",new t.SFNode),new e(r.initializeOnly,"bboxSize",new t.SFVec3f(-1,-1,-1)),new e(r.initializeOnly,"bboxCenter",new t.SFVec3f),new e(r.inputOnly,"addChildren",new t.MFNode),new e(r.inputOnly,"removeChildren",new t.MFNode),new e(r.inputOutput,"children",new t.MFNode)]),getTypeName:function(){return"LayoutGroup"},getComponentName:function(){return"Layout"},getContainerField:function(){return"children"},initialize:function(){n.prototype.initialize.call(this),this.viewport_.addInterest("set_viewport__",this),this.layout_.addInterest("set_layout__",this),this.set_viewport__(),this.set_layout__()},set_viewport__:function(){this.viewportNode=s(r.X3DViewportNode,this.viewport_)},set_layout__:function(){this.layoutNode=s(r.X3DLayoutNode,this.layout_)},getBBox:function(t){return n.prototype.getBBox.call(this,t).multRight(this.getMatrix())},getMatrix:function(){try{this.layoutNode?this.matrix.assign(this.modelViewMatrix).inverse().multLeft(this.screenMatrix):this.matrix.identity()}catch(t){}return this.matrix},traverse:function(t,e){switch(t){case o.POINTER:case o.CAMERA:case o.DEPTH:case o.DISPLAY:if(this.viewportNode&&this.viewportNode.push(),this.layoutNode){var i=e.getModelViewMatrix();this.modelViewMatrix.assign(i.get()),i.push(),i.set(this.screenMatrix.assign(this.layoutNode.transform(t,e))),e.getLayouts().push(this.layoutNode),n.prototype.traverse.call(this,t,e),e.getLayouts().pop(),i.pop()}else n.prototype.traverse.call(this,t,e);this.viewportNode&&this.viewportNode.pop()}}}),u}),t("x_ite/Components/Layout/LayoutLayer",["x_ite/Fields","x_ite/Basic/X3DFieldDefinition","x_ite/Basic/FieldDefinitionArray","x_ite/Components/Layering/X3DLayerNode","x_ite/Components/Layout/LayoutGroup","x_ite/Components/Navigation/OrthoViewpoint","x_ite/Bits/X3DConstants"],function(t,e,i,n,s,o,r){"use strict";function a(t){n.call(this,t,new o(t),new s(t)),this.addType(r.LayoutLayer)}return a.prototype=Object.assign(Object.create(n.prototype),{constructor:a,fieldDefinitions:new i([new e(r.inputOutput,"metadata",new t.SFNode),new e(r.inputOutput,"isPickable",new t.SFBool(!0)),new e(r.inputOutput,"layout",new t.SFNode),new e(r.inputOutput,"viewport",new t.SFNode),new e(r.inputOnly,"addChildren",new t.MFNode),new e(r.inputOnly,"removeChildren",new t.MFNode),new e(r.inputOutput,"children",new t.MFNode)]),getTypeName:function(){return"LayoutLayer"},getComponentName:function(){return"Layout"},getContainerField:function(){return"layers"},initialize:function(){this.layout_.addFieldInterest(this.getGroup().layout_),this.getGroup().layout_=this.layout_,n.prototype.initialize.call(this)}}),a}),t("x_ite/Browser/Layout/ScreenText",["jquery","x_ite/Fields","x_ite/Browser/Text/X3DTextGeometry","x_ite/Browser/Text/TextAlignment","x_ite/Components/Texturing/PixelTexture","x_ite/Components/Rendering/X3DGeometryNode","x_ite/Bits/TraverseType","standard/Math/Numbers/Vector2","standard/Math/Numbers/Vector3","standard/Math/Numbers/Vector4","standard/Math/Numbers/Rotation4","standard/Math/Numbers/Matrix4","standard/Math/Geometry/Box3","standard/Math/Geometry/ViewVolume","standard/Math/Algorithm"],function(t,e,i,n,s,o,r,a,u,h,c,l,p,d,x){"use strict";function f(e,n){i.call(this,e,n),e.transparent_=!0,this.texCoordArray=o.createArray(),this.texture=new s(e.getExecutionContext()),this.canvas=t("<canvas></canvas>"),this.context=this.canvas[0].getContext("2d"),this.matrix=new l,this.texture.textureProperties_=n.getBrowser().getScreenTextureProperties(),this.texture.setup()}var y=[],g=new u(0,0,0),_=new u(1,1,0),w=new p;return f.prototype=Object.assign(Object.create(i.prototype),{constructor:f,modelViewMatrix:new l,getMatrix:function(){return this.matrix},update:function(){i.prototype.update.call(this);var t=this.getFontStyle(),e=this.getText();switch(e.textBounds_.x=Math.ceil(e.textBounds_.x)+1,e.textBounds_.y=Math.ceil(e.textBounds_.y)+1,this.getBBox().getExtents(g,_),g.x-=1,g.y-=1,t.getMajorAlignment()){case n.BEGIN:case n.FIRST:g.x=Math.floor(g.x),_.x=g.x+e.textBounds_.x;break;case n.MIDDLE:g.x=Math.round(g.x),_.x=g.x+e.textBounds_.x;break;case n.END:_.x=Math.ceil(_.x),g.x=_.x-e.textBounds_.x}switch(t.getMinorAlignment()){case n.BEGIN:case n.FIRST:_.y=Math.ceil(_.y),g.y=_.y-e.textBounds_.y;break;case n.MIDDLE:_.y=Math.round(_.y),g.y=_.y-e.textBounds_.y;break;case n.END:g.y=Math.floor(g.y),_.y=g.y+e.textBounds_.y}e.origin_.x=g.x,e.origin_.y=_.y,this.getBBox().setExtents(g,_)},build:function(){var t=this.getFontStyle(),e=t.getFont();if(e){var i=this.getText(),n=this.getGlyphs(),s=this.getMinorAlignment(),o=this.getTranslations(),r=this.getCharSpacings(),a=t.getScale(),u=a/e.unitsPerEm,h=this.texCoordArray,c=i.getNormals(),l=i.getVertices(),p=this.canvas[0],d=this.context;h.length=0,i.getMultiTexCoords().push(h),this.getBBox().getExtents(g,_),c.push(0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1),l.push(g.x,g.y,0,1,_.x,g.y,0,1,_.x,_.y,0,1,g.x,g.y,0,1,_.x,_.y,0,1,g.x,_.y,0,1);var f=i.textBounds_.x,y=i.textBounds_.y;x.isPowerOfTwo(f)&&x.isPowerOfTwo(y)?(p.width=f,p.height=y):(p.width=x.nextPowerOfTwo(f),p.height=x.nextPowerOfTwo(y));var w=f/p.width,M=y/p.height,m=1-M;if(h.push(0,m,0,1,w,m,0,1,w,1,0,1,0,m,0,1,w,1,0,1,0,1,0,1),d.fillStyle="rgba(255,255,255,0)",d.fillRect(0,0,p.width,p.height),d.fillStyle="rgba(255,255,255,1)",t.horizontal_.getValue())for(var S=0,z=n.length;S<z;++S)for(var X=n[S],N=r[S],T=o[S],F=0,v=0,C=X.length;v<C;++v){var L=X[v],O=s.x+T.x+F+v*N-g.x,m=s.y+T.y-_.y;this.drawGlyph(d,e,L,O,m,a);var B=0;v+1<X.length&&(B=e.getKerningValue(L,X[v+1])),F+=(L.advanceWidth+B)*u}else for(var U=t.leftToRight_.getValue(),b=t.topToBottom_.getValue(),D=U?0:i.string_.length-1,Y=U?i.string_.length:-1,P=U?1:-1,S=D,V=0;S!==Y;S+=P)for(var X=n[S],E=X.length,R=b?0:E-1,A=b?E:-1,I=b?1:-1,v=R;v!==A;v+=I,++V){var T=o[V],O=s.x+T.x-g.x,m=s.y+T.y-_.y;this.drawGlyph(d,e,X[v],O,m,a)}var G=d.getImageData(0,0,p.width,p.height);G?this.texture.setTexture(p.width,p.height,!0,new Uint8Array(G.data),!0):this.texture.clear()}},drawGlyph:function(t,e,i,n,s,o){var r=i.components;if(y.length=0,i.isComposite)for(var a=0,u=r.length;a<u;++a){var h=r[a];y.push(i.getPath(h.dx/e.unitsPerEm*o+n,h.dy/e.unitsPerEm*o-s,o))}else y.push(i.getPath(n,-s,o));for(var c=0,l=y.length;c<l;++c){var p=y[c],d=p.commands;t.beginPath();for(var x=0,u=d.length;x<u;++x){var f=d[x];switch(f.type){case"M":t.moveTo(f.x,f.y);continue;case"Z":t.closePath();continue;case"L":t.lineTo(f.x,f.y);continue;case"C":t.bezierCurveTo(f.x1,f.y1,f.x2,f.y2,f.x,f.y);continue;case"Q":t.quadraticCurveTo(f.x1,f.y1,f.x,f.y);continue}}p.fill&&t.fill(),p.stroke&&(t.lineWidth=p.strokeWidth,t.stroke())}},getGlyphExtents:function(t,e,i,n){var s=this.getFontStyle(),o=s.getFont(),r=o.unitsPerEm;i.set((t.xMin||0)/r,(t.yMin||0)/r,0),n.set((t.xMax||0)/r,(t.yMax||0)/r,0)},transform:function(){var t=new h(0,0,0,0),e=new h(0,0,0,0),i=new h(0,0,0,0),n=new u(0,0,0),s=new l;return function(o){var r=this.getText(),a=o.getModelViewMatrix().get(),h=o.getProjectionMatrix().get(),c=o.getViewVolume().getViewport(),l=o.getViewpoint().getScreenScale(a.origin,c);t.set(a[0],a[1],a[2],a[3]),e.set(a[4],a[5],a[6],a[7]),i.set(a[8],a[9],a[10],a[11]),t.normalize().multiply(l.x),e.normalize().multiply(l.y),i.normalize().multiply(l.z),s.set(t.x,t.y,t.z,t.w,e.x,e.y,e.z,e.w,i.x,i.y,i.z,i.w,a[12],a[13],a[14],a[15]),d.projectPoint(u.Zero,s,h,c,n),n.x=Math.round(n.x),n.y=Math.round(n.y),d.unProjectPoint(n.x,n.y,n.z,s,h,c,n),n.z=0,s.translate(n),this.matrix.assign(a).inverse().multLeft(s),w.assign(this.getBBox()).multRight(this.matrix),r.setBBox(w)}}(),traverse:function(t,e){this.transform(e)},display:function(t,e){l.prototype.multLeft.call(e.modelViewMatrix,this.matrix),e.textureNode=this.texture,e.textureTransformNode=this.getBrowser().getDefaultTextureTransform()},transformLine:function(t){return t.multLineMatrix(l.inverse(this.matrix))},transformMatrix:function(t){return t.multLeft(this.matrix)}}),f}),t("x_ite/Components/Layout/ScreenFontStyle",["x_ite/Fields","x_ite/Basic/X3DFieldDefinition","x_ite/Basic/FieldDefinitionArray","x_ite/Components/Text/X3DFontStyleNode","x_ite/Browser/Layout/ScreenText","x_ite/Bits/X3DConstants"],function(t,e,i,n,s,o){"use strict";function r(t){n.call(this,t),this.addType(o.ScreenFontStyle)}return r.prototype=Object.assign(Object.create(n.prototype),{constructor:r,fieldDefinitions:new i([new e(o.inputOutput,"metadata",new t.SFNode),new e(o.inputOutput,"language",new t.SFString),new e(o.inputOutput,"family",new t.MFString("SERIF")),new e(o.inputOutput,"style",new t.SFString("PLAIN")),new e(o.inputOutput,"pointSize",new t.SFFloat(12)),new e(o.inputOutput,"spacing",new t.SFFloat(1)),new e(o.inputOutput,"horizontal",new t.SFBool(!0)),new e(o.inputOutput,"leftToRight",new t.SFBool(!0)),new e(o.inputOutput,"topToBottom",new t.SFBool(!0)),new e(o.inputOutput,"justify",new t.MFString("BEGIN"))]),getTypeName:function(){return"ScreenFontStyle"},getComponentName:function(){return"Layout"},getContainerField:function(){return"fontStyle"},getTextGeometry:function(t){return new s(t,this)},getScale:function(){return this.pointSize_.getValue()*this.getBrowser().getPointSize()}}),r}),t("x_ite/Components/Layout/ScreenGroup",["x_ite/Fields","x_ite/Basic/X3DFieldDefinition","x_ite/Basic/FieldDefinitionArray","x_ite/Components/Grouping/X3DGroupingNode","x_ite/Bits/X3DConstants","x_ite/Bits/TraverseType","standard/Math/Numbers/Vector3","standard/Math/Numbers/Vector4","standard/Math/Numbers/Rotation4","standard/Math/Numbers/Matrix4","standard/Math/Geometry/ViewVolume"],function(t,e,i,n,s,o,r,a,u,h,c){"use strict";function l(t){n.call(this,t),this.addType(s.ScreenGroup),this.screenMatrix=new h}return l.prototype=Object.assign(Object.create(n.prototype),{constructor:l,fieldDefinitions:new i([new e(s.inputOutput,"metadata",new t.SFNode),new e(s.initializeOnly,"bboxSize",new t.SFVec3f(-1,-1,-1)),new e(s.initializeOnly,"bboxCenter",new t.SFVec3f),new e(s.inputOnly,"addChildren",new t.MFNode),new e(s.inputOnly,"removeChildren",new t.MFNode),new e(s.inputOutput,"children",new t.MFNode)]),getTypeName:function(){return"ScreenGroup"},getComponentName:function(){return"Layout"},getContainerField:function(){return"children"},getBBox:function(t){return n.prototype.getBBox.call(this,t).multRight(this.getMatrix())},getMatrix:function(){try{this.matrix.assign(this.modelViewMatrix).inverse().multLeft(this.screenMatrix)}catch(t){}return this.matrix},scale:function(){var t=new a(0,0,0,0),e=new a(0,0,0,0),i=new a(0,0,0,0),n=new r(0,0,0);return function(s){var o=s.getModelViewMatrix().get(),a=s.getProjectionMatrix().get(),u=s.getViewVolume().getViewport(),h=this.screenMatrix,l=s.getViewpoint().getScreenScale(o.origin,u);return t.set(o[0],o[1],o[2],o[3]),e.set(o[4],o[5],o[6],o[7]),i.set(o[8],o[9],o[10],o[11]),t.normalize().multiply(l.x),e.normalize().multiply(l.y),i.normalize().multiply(l.z),h.set(t.x,t.y,t.z,t.w,e.x,e.y,e.z,e.w,i.x,i.y,i.z,i.w,o[12],o[13],o[14],o[15]),c.projectPoint(r.Zero,h,a,u,n),n.x=Math.round(n.x),n.y=Math.round(n.y),c.unProjectPoint(n.x,n.y,n.z,h,a,u,n),n.z=0,h.translate(n),h}}(),traverse:function(t,e){try{var i=e.getModelViewMatrix();switch(t){case o.CAMERA:case o.DEPTH:i.pushMatrix(this.screenMatrix);break;default:i.pushMatrix(this.scale(e))}n.prototype.traverse.call(this,t,e),i.pop()}catch(t){}}}),l}),t(["x_ite/Components","x_ite/Browser/Layout/X3DLayoutContext","x_ite/Components/Layout/Layout","x_ite/Components/Layout/LayoutGroup","x_ite/Components/Layout/LayoutLayer","x_ite/Components/Layout/ScreenFontStyle","x_ite/Components/Layout/ScreenGroup","x_ite/Components/Layout/X3DLayoutNode"],function(t,e,i,n,s,o,r,a){"use strict";t.addComponent({name:"Layout",types:{Layout:i,LayoutGroup:n,LayoutLayer:s,ScreenFontStyle:o,ScreenGroup:r},abstractTypes:{X3DLayoutNode:a},browser:e.prototype})})}();
