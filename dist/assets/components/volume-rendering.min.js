!function(){var e=X3D.define;X3D.require;e("x_ite/Components/VolumeRendering/X3DVolumeRenderStyleNode",["x_ite/Components/Core/X3DNode","x_ite/Bits/X3DConstants"],function(e,t){"use strict";function n(n){e.call(this,n),this.addType(t.X3DVolumeRenderStyleNode)}return n.prototype=Object.assign(Object.create(e.prototype),{constructor:n,getShader:function(){return null}}),n}),e("x_ite/Components/VolumeRendering/X3DComposableVolumeRenderStyleNode",["x_ite/Components/VolumeRendering/X3DVolumeRenderStyleNode","x_ite/Bits/X3DConstants"],function(e,t){"use strict";function n(n){e.call(this,n),this.addType(t.X3DComposableVolumeRenderStyleNode)}return n.prototype=Object.assign(Object.create(e.prototype),{constructor:n}),n}),e("x_ite/Components/VolumeRendering/OpacityMapVolumeStyle",["x_ite/Fields","x_ite/Basic/X3DFieldDefinition","x_ite/Basic/FieldDefinitionArray","x_ite/Components/VolumeRendering/X3DComposableVolumeRenderStyleNode","x_ite/Bits/X3DConstants","x_ite/Bits/X3DCast"],function(e,t,n,o,i,r){"use strict";function u(e){o.call(this,e),this.addType(i.OpacityMapVolumeStyle),this.shaderNode=this.getBrowser().createOpacityMapVolumeStyleShader()}return u.prototype=Object.assign(Object.create(o.prototype),{constructor:u,fieldDefinitions:new n([new t(i.inputOutput,"enabled",new e.SFBool(!0)),new t(i.inputOutput,"metadata",new e.SFNode),new t(i.inputOutput,"transferFunction",new e.SFNode)]),getTypeName:function(){return"OpacityMapVolumeStyle"},getComponentName:function(){return"VolumeRendering"},getContainerField:function(){return"renderStyle"},initialize:function(){o.prototype.initialize.call(this),this.getBrowser().getContext().getVersion()<2||(this.transferFunction_.addInterest("set_transferFunction__",this),this.shaderNode.addUserDefinedField(i.inputOutput,"transferFunction",new e.SFNode),this.set_transferFunction__())},getShader:function(){return this.shaderNode},set_transferFunction__:function(){var e=r(i.X3DTexture2DNode,this.transferFunction_);e||(e=this.getBrowser().getDefaultTransferFunction()),this.shaderNode.getField("transferFunction").setValue(e)}}),u}),e("x_ite/Browser/VolumeRendering/X3DVolumeRenderingContext",["x_ite/Components/Texturing/PixelTexture","x_ite/Components/Texturing/TextureProperties","x_ite/Components/VolumeRendering/OpacityMapVolumeStyle"],function(e,t,n){"use strict";function o(){}return o.prototype={getDefaultVolumeStyle:function(){return void 0!==this.defaultVolumeStyle?this.defaultVolumeStyle:(this.defaultVolumeStyle=new n(this.getPrivateScene()),this.defaultVolumeStyle.setup(),this.defaultVolumeStyle)},getDefaultTransferFunction:function(){if(void 0!==this.defaultTransferFunction)return this.defaultTransferFunction;this.defaultTransferFunction=new e(this.getPrivateScene());var n=new t(this.getPrivateScene());n.generateMipMaps_=!0,n.boundaryModeS_="CLAMP_TO_EDGE",n.boundaryModeT_="REPEAT",this.defaultTransferFunction.textureProperties_=n,this.defaultTransferFunction.image_.width=256,this.defaultTransferFunction.image_.height=1,this.defaultTransferFunction.image_.comp=2;for(var o=this.defaultTransferFunction.image_.array,i=0;i<256;++i)o[i]=i<<8|i;return n.setup(),this.defaultTransferFunction.setup(),this.defaultTransferFunction},createOpacityMapVolumeStyleShader:function(){return this.getContext().getVersion()<2?null:this.createShader("OpacityMapVolumeStyleShader","../volume-rendering/OpacityMapVolumeStyle",!1)}},o}),e("x_ite/Components/VolumeRendering/BlendedVolumeStyle",["x_ite/Fields","x_ite/Basic/X3DFieldDefinition","x_ite/Basic/FieldDefinitionArray","x_ite/Components/VolumeRendering/X3DComposableVolumeRenderStyleNode","x_ite/Bits/X3DConstants"],function(e,t,n,o,i){"use strict";function r(e){o.call(this,e),this.addType(i.BlendedVolumeStyle)}return r.prototype=Object.assign(Object.create(o.prototype),{constructor:r,fieldDefinitions:new n([new t(i.inputOutput,"metadata",new e.SFNode),new t(i.inputOutput,"enabled",new e.SFBool(!0)),new t(i.inputOutput,"weightConstant1",new e.SFFloat(.5)),new t(i.inputOutput,"weightConstant2",new e.SFFloat(.5)),new t(i.inputOutput,"weightFunction1",new e.SFString("CONSTANT")),new t(i.inputOutput,"renderStyle",new e.SFNode),new t(i.inputOutput,"voxels",new e.SFNode)]),getTypeName:function(){return"BlendedVolumeStyle"},getComponentName:function(){return"VolumeRendering"},getContainerField:function(){return"renderStyle"}}),r}),e("x_ite/Components/VolumeRendering/BoundaryEnhancementVolumeStyle",["x_ite/Fields","x_ite/Basic/X3DFieldDefinition","x_ite/Basic/FieldDefinitionArray","x_ite/Components/VolumeRendering/X3DComposableVolumeRenderStyleNode","x_ite/Bits/X3DConstants"],function(e,t,n,o,i){"use strict";function r(e){o.call(this,e),this.addType(i.BoundaryEnhancementVolumeStyle)}return r.prototype=Object.assign(Object.create(o.prototype),{constructor:r,fieldDefinitions:new n([new t(i.inputOutput,"boundaryOpacity",new e.SFFloat(.9)),new t(i.inputOutput,"enabled",new e.SFBool(!0)),new t(i.inputOutput,"metadata",new e.SFNode),new t(i.inputOutput,"opacityFactor",new e.SFFloat(2)),new t(i.inputOutput,"retainedOpacity",new e.SFFloat(.2))]),getTypeName:function(){return"BoundaryEnhancementVolumeStyle"},getComponentName:function(){return"VolumeRendering"},getContainerField:function(){return"renderStyle"}}),r}),e("x_ite/Components/VolumeRendering/CartoonVolumeStyle",["x_ite/Fields","x_ite/Basic/X3DFieldDefinition","x_ite/Basic/FieldDefinitionArray","x_ite/Components/VolumeRendering/X3DComposableVolumeRenderStyleNode","x_ite/Bits/X3DConstants"],function(e,t,n,o,i){"use strict";function r(e){o.call(this,e),this.addType(i.CartoonVolumeStyle)}return r.prototype=Object.assign(Object.create(o.prototype),{constructor:r,fieldDefinitions:new n([new t(i.inputOutput,"colorSteps",new e.SFInt32(4)),new t(i.inputOutput,"enabled",new e.SFBool(!0)),new t(i.inputOutput,"metadata",new e.SFNode),new t(i.inputOutput,"orthogonalColor",new e.SFColorRGBA(1,1,1,1)),new t(i.inputOutput,"parallelColor",new e.SFColorRGBA(0,0,0,1)),new t(i.inputOutput,"surfaceNormals",new e.SFNode)]),getTypeName:function(){return"CartoonVolumeStyle"},getComponentName:function(){return"VolumeRendering"},getContainerField:function(){return"renderStyle"}}),r}),e("x_ite/Components/VolumeRendering/ComposedVolumeStyle",["x_ite/Fields","x_ite/Basic/X3DFieldDefinition","x_ite/Basic/FieldDefinitionArray","x_ite/Components/VolumeRendering/X3DComposableVolumeRenderStyleNode","x_ite/Bits/X3DConstants"],function(e,t,n,o,i){"use strict";function r(e){o.call(this,e),this.addType(i.ComposedVolumeStyle)}return r.prototype=Object.assign(Object.create(o.prototype),{constructor:r,fieldDefinitions:new n([new t(i.inputOutput,"enabled",new e.SFBool(!0)),new t(i.inputOutput,"metadata",new e.SFNode),new t(i.inputOutput,"renderStyle",new e.MFNode)]),getTypeName:function(){return"ComposedVolumeStyle"},getComponentName:function(){return"VolumeRendering"},getContainerField:function(){return"renderStyle"}}),r}),e("x_ite/Components/VolumeRendering/EdgeEnhancementVolumeStyle",["x_ite/Fields","x_ite/Basic/X3DFieldDefinition","x_ite/Basic/FieldDefinitionArray","x_ite/Components/VolumeRendering/X3DComposableVolumeRenderStyleNode","x_ite/Bits/X3DConstants"],function(e,t,n,o,i){"use strict";function r(e){o.call(this,e),this.addType(i.EdgeEnhancementVolumeStyle)}return r.prototype=Object.assign(Object.create(o.prototype),{constructor:r,fieldDefinitions:new n([new t(i.inputOutput,"edgeColor",new e.SFColorRGBA(0,0,0,1)),new t(i.inputOutput,"enabled",new e.SFBool(!0)),new t(i.inputOutput,"gradientThreshold",new e.SFFloat(.4)),new t(i.inputOutput,"metadata",new e.SFNode),new t(i.inputOutput,"surfaceNormals",new e.SFNode)]),getTypeName:function(){return"EdgeEnhancementVolumeStyle"},getComponentName:function(){return"VolumeRendering"},getContainerField:function(){return"renderStyle"}}),r}),e("x_ite/Components/VolumeRendering/X3DVolumeDataNode",["x_ite/Fields","x_ite/Components/Core/X3DChildNode","x_ite/Components/Grouping/X3DBoundedObject","x_ite/Bits/X3DConstants","x_ite/Browser/Core/TextureQuality","standard/Math/Numbers/Vector3"],function(e,t,n,o,i,r){"use strict";function u(e){t.call(this,e),n.call(this,e),this.addType(o.X3DVolumeDataNode),this.proximitySensorNode=e.createNode("ProximitySensor",!1),this.transformNode=e.createNode("Transform",!1),this.shapeNode=e.createNode("Shape",!1),this.appearanceNode=e.createNode("Appearance",!1),this.textureTransformNode=e.createNode("TextureTransform3D",!1),this.geometryNode=e.createNode("QuadSet",!1),this.textureCoordinateNode=e.createNode("TextureCoordinate3D",!1),this.coordinateNode=e.createNode("Coordinate",!1),this.setCameraObject(!0)}return u.prototype=Object.assign(Object.create(t.prototype),n.prototype,{constructor:u,initialize:function(){t.prototype.initialize.call(this),n.prototype.initialize.call(this)},initialize:function(){t.prototype.initialize.call(this),n.prototype.initialize.call(this);var o=this.getBrowser(),i=o.getContext();o.getBrowserOptions().TextureQuality_.addInterest("set_dimensions__",this),i.getVersion()>=2&&(this.dimensions_.addInterest("set_dimensions__",this),this.set_dimensions__()),this.appearanceNode.setPrivate(!0),this.proximitySensorNode.orientation_changed_.addFieldInterest(this.transformNode.rotation_),this.proximitySensorNode.orientation_changed_.addFieldInterest(this.textureTransformNode.rotation_),this.proximitySensorNode.size_=new e.SFVec3f(-1,-1,-1),this.transformNode.children_=new e.MFNode(this.shapeNode),this.shapeNode.appearance_=this.appearanceNode,this.shapeNode.geometry_=this.geometryNode,this.appearanceNode.textureTransform_=this.textureTransformNode,this.textureTransformNode.translation_=new e.SFVec3f(.5,.5,.5),this.textureTransformNode.center_=new e.SFVec3f(-.5,-.5,-.5),this.geometryNode.texCoord_=this.textureCoordinateNode,this.geometryNode.coord_=this.coordinateNode,this.coordinateNode.setup(),this.textureCoordinateNode.setup(),this.geometryNode.setup(),this.textureTransformNode.setup(),this.appearanceNode.setup(),this.shapeNode.setup(),this.transformNode.setup(),this.proximitySensorNode.setup()},getBBox:function(e){return this.bboxSize_.getValue().equals(this.getDefaultBBoxSize())?e.set(this.dimensions_.getValue(),r.Zero):e.set(this.bboxSize_.getValue(),this.bboxCenter_.getValue())},getAppearance:function(){return this.appearanceNode},getNumPlanes:function(){switch(this.getBrowser().getBrowserOptions().getTextureQuality()){case i.LOW:return 200;case i.MEDIUM:return 400;case i.HIGH:return 600}return 200},set_dimensions__:function(){var t=this.getNumPlanes(),n=this.dimensions_.getValue().abs(),o=n/2,i=[];this.coordinateNode.point_.length=0;for(var r=0;r<t;++r){var u=r/(t-1)-.5;i.push(o,o,n*u,-o,o,n*u,-o,-o,n*u,o,-o,n*u)}this.coordinateNode.point_=i,this.textureCoordinateNode.point_=i,this.textureTransformNode.scale_=new e.SFVec3f(1/this.dimensions_.x,1/this.dimensions_.y,1/this.dimensions_.z)},traverse:function(e,t){this.proximitySensorNode.traverse(e,t),this.transformNode.traverse(e,t)}}),u}),e("x_ite/Components/VolumeRendering/IsoSurfaceVolumeData",["x_ite/Fields","x_ite/Basic/X3DFieldDefinition","x_ite/Basic/FieldDefinitionArray","x_ite/Components/VolumeRendering/X3DVolumeDataNode","x_ite/Bits/X3DConstants"],function(e,t,n,o,i){"use strict";function r(e){o.call(this,e),this.addType(i.IsoSurfaceVolumeData)}return r.prototype=Object.assign(Object.create(o.prototype),{constructor:r,fieldDefinitions:new n([new t(i.inputOutput,"contourStepSize",new e.SFFloat(0)),new t(i.inputOutput,"dimensions",new e.SFVec3f(1,1,1)),new t(i.inputOutput,"gradients",new e.SFNode),new t(i.inputOutput,"metadata",new e.SFNode),new t(i.inputOutput,"renderStyle",new e.MFNode),new t(i.inputOutput,"surfaceTolerance",new e.SFFloat(0)),new t(i.inputOutput,"surfaceValues",new e.MFFloat),new t(i.inputOutput,"voxels",new e.SFNode),new t(i.initializeOnly,"bboxCenter",new e.SFVec3f(0,0,0)),new t(i.initializeOnly,"bboxSize",new e.SFVec3f(-1,-1,-1))]),getTypeName:function(){return"IsoSurfaceVolumeData"},getComponentName:function(){return"VolumeRendering"},getContainerField:function(){return"children"}}),r}),e("x_ite/Components/VolumeRendering/ProjectionVolumeStyle",["x_ite/Fields","x_ite/Basic/X3DFieldDefinition","x_ite/Basic/FieldDefinitionArray","x_ite/Components/VolumeRendering/X3DVolumeRenderStyleNode","x_ite/Bits/X3DConstants"],function(e,t,n,o,i){"use strict";function r(e){o.call(this,e),this.addType(i.ProjectionVolumeStyle)}return r.prototype=Object.assign(Object.create(o.prototype),{constructor:r,fieldDefinitions:new n([new t(i.inputOutput,"enabled",new e.SFBool(!0)),new t(i.inputOutput,"metadata",new e.SFNode),new t(i.inputOutput,"intensityThreshold",new e.SFFloat(0))]),getTypeName:function(){return"ProjectionVolumeStyle"},getComponentName:function(){return"VolumeRendering"},getContainerField:function(){return"renderStyle"}}),r}),e("x_ite/Components/VolumeRendering/SegmentedVolumeData",["x_ite/Fields","x_ite/Basic/X3DFieldDefinition","x_ite/Basic/FieldDefinitionArray","x_ite/Components/VolumeRendering/X3DVolumeDataNode","x_ite/Bits/X3DConstants"],function(e,t,n,o,i){"use strict";function r(e){o.call(this,e),this.addType(i.SegmentedVolumeData)}return r.prototype=Object.assign(Object.create(o.prototype),{constructor:r,fieldDefinitions:new n([new t(i.inputOutput,"dimensions",new e.SFVec3f(1,1,1)),new t(i.inputOutput,"metadata",new e.SFNode),new t(i.inputOutput,"renderStyle",new e.MFNode),new t(i.inputOutput,"segmentEnabled",new e.MFBool),new t(i.inputOutput,"segmentIdentifiers",new e.SFNode),new t(i.inputOutput,"voxels",new e.SFNode),new t(i.initializeOnly,"bboxCenter",new e.SFVec3f(0,0,0)),new t(i.initializeOnly,"bboxSize",new e.SFVec3f(-1,-1,-1))]),getTypeName:function(){return"SegmentedVolumeData"},getComponentName:function(){return"VolumeRendering"},getContainerField:function(){return"children"}}),r}),e("x_ite/Components/VolumeRendering/ShadedVolumeStyle",["x_ite/Fields","x_ite/Basic/X3DFieldDefinition","x_ite/Basic/FieldDefinitionArray","x_ite/Components/VolumeRendering/X3DComposableVolumeRenderStyleNode","x_ite/Bits/X3DConstants"],function(e,t,n,o,i){"use strict";function r(e){o.call(this,e),this.addType(i.ShadedVolumeStyle)}return r.prototype=Object.assign(Object.create(o.prototype),{constructor:r,fieldDefinitions:new n([new t(i.inputOutput,"enabled",new e.SFBool(!0)),new t(i.inputOutput,"lighting",new e.SFBool),new t(i.inputOutput,"material",new e.SFNode),new t(i.inputOutput,"metadata",new e.SFNode),new t(i.inputOutput,"shadows",new e.SFBool),new t(i.inputOutput,"surfaceNormals",new e.SFNode),new t(i.initializeOnly,"phaseFunction",new e.SFString("Henyey-Greenstein"))]),getTypeName:function(){return"ShadedVolumeStyle"},getComponentName:function(){return"VolumeRendering"},getContainerField:function(){return"renderStyle"}}),r}),e("x_ite/Components/VolumeRendering/SilhouetteEnhancementVolumeStyle",["x_ite/Fields","x_ite/Basic/X3DFieldDefinition","x_ite/Basic/FieldDefinitionArray","x_ite/Components/VolumeRendering/X3DComposableVolumeRenderStyleNode","x_ite/Bits/X3DConstants"],function(e,t,n,o,i){"use strict";function r(e){o.call(this,e),this.addType(i.SilhouetteEnhancementVolumeStyle)}return r.prototype=Object.assign(Object.create(o.prototype),{constructor:r,fieldDefinitions:new n([new t(i.inputOutput,"enabled",new e.SFBool(!0)),new t(i.inputOutput,"metadata",new e.SFNode),new t(i.inputOutput,"silhouetteBoundaryOpacity",new e.SFFloat(0)),new t(i.inputOutput,"silhouetteRetainedOpacity",new e.SFFloat(1)),new t(i.inputOutput,"silhouetteSharpness",new e.SFFloat(.5)),new t(i.inputOutput,"surfaceNormals",new e.SFNode)]),getTypeName:function(){return"SilhouetteEnhancementVolumeStyle"},getComponentName:function(){return"VolumeRendering"},getContainerField:function(){return"renderStyle"}}),r}),e("x_ite/Components/VolumeRendering/ToneMappedVolumeStyle",["x_ite/Fields","x_ite/Basic/X3DFieldDefinition","x_ite/Basic/FieldDefinitionArray","x_ite/Components/VolumeRendering/X3DComposableVolumeRenderStyleNode","x_ite/Bits/X3DConstants"],function(e,t,n,o,i){"use strict";function r(e){o.call(this,e),this.addType(i.ToneMappedVolumeStyle)}return r.prototype=Object.assign(Object.create(o.prototype),{constructor:r,fieldDefinitions:new n([new t(i.inputOutput,"metadata",new e.SFNode),new t(i.inputOutput,"enabled",new e.SFBool(!0)),new t(i.inputOutput,"coolColor",new e.SFColorRGBA(0,0,1,0)),new t(i.inputOutput,"warmColor",new e.SFColorRGBA(1,1,0,0)),new t(i.inputOutput,"surfaceNormals",new e.SFNode)]),getTypeName:function(){return"ToneMappedVolumeStyle"},getComponentName:function(){return"VolumeRendering"},getContainerField:function(){return"renderStyle"}}),r}),e("x_ite/Components/VolumeRendering/VolumeData",["x_ite/Fields","x_ite/Basic/X3DFieldDefinition","x_ite/Basic/FieldDefinitionArray","x_ite/Components/VolumeRendering/X3DVolumeDataNode","x_ite/Bits/X3DConstants","x_ite/Bits/X3DCast"],function(e,t,n,o,i,r){"use strict";function u(e){o.call(this,e),this.addType(i.VolumeData),this.renderStyleNode=null,this.blendModeNode=e.createNode("BlendMode",!1)}return u.prototype=Object.assign(Object.create(o.prototype),{constructor:u,fieldDefinitions:new n([new t(i.inputOutput,"metadata",new e.SFNode),new t(i.inputOutput,"dimensions",new e.SFVec3f(1,1,1)),new t(i.inputOutput,"renderStyle",new e.SFNode),new t(i.inputOutput,"voxels",new e.SFNode),new t(i.initializeOnly,"bboxCenter",new e.SFVec3f(0,0,0)),new t(i.initializeOnly,"bboxSize",new e.SFVec3f(-1,-1,-1))]),getTypeName:function(){return"VolumeData"},getComponentName:function(){return"VolumeRendering"},getContainerField:function(){return"children"},initialize:function(){o.prototype.initialize.call(this),this.getBrowser().getContext().getVersion()<2||(this.renderStyle_.addInterest("set_renderStyle__",this),this.voxels_.addFieldInterest(this.getAppearance().texture_),this.blendModeNode.setup(),this.getAppearance().texture_=this.voxels_,this.getAppearance().blendMode_=this.blendModeNode,this.set_renderStyle__())},set_renderStyle__:function(){this.renderStyleNode=r(i.X3DVolumeRenderStyleNode,this.renderStyle_),this.renderStyleNode&&null!==this.renderStyleNode.getShader()||(this.renderStyleNode=this.getBrowser().getDefaultVolumeStyle()),this.getAppearance().shaders_[0]=this.renderStyleNode.getShader()}}),u}),e(["x_ite/Components","x_ite/Browser/VolumeRendering/X3DVolumeRenderingContext","x_ite/Components/VolumeRendering/BlendedVolumeStyle","x_ite/Components/VolumeRendering/BoundaryEnhancementVolumeStyle","x_ite/Components/VolumeRendering/CartoonVolumeStyle","x_ite/Components/VolumeRendering/ComposedVolumeStyle","x_ite/Components/VolumeRendering/EdgeEnhancementVolumeStyle","x_ite/Components/VolumeRendering/IsoSurfaceVolumeData","x_ite/Components/VolumeRendering/OpacityMapVolumeStyle","x_ite/Components/VolumeRendering/ProjectionVolumeStyle","x_ite/Components/VolumeRendering/SegmentedVolumeData","x_ite/Components/VolumeRendering/ShadedVolumeStyle","x_ite/Components/VolumeRendering/SilhouetteEnhancementVolumeStyle","x_ite/Components/VolumeRendering/ToneMappedVolumeStyle","x_ite/Components/VolumeRendering/VolumeData","x_ite/Components/VolumeRendering/X3DComposableVolumeRenderStyleNode","x_ite/Components/VolumeRendering/X3DVolumeDataNode","x_ite/Components/VolumeRendering/X3DVolumeRenderStyleNode",X3D.getComponentUrl("cad-geometry"),X3D.getComponentUrl("texturing-3d"),X3D.getComponentUrl("x_ite")],function(e,t,n,o,i,r,u,s,a,l,d,p,m,c,y,S,f,h){"use strict";e.addComponent({name:"VolumeRendering",types:{BlendedVolumeStyle:n,BoundaryEnhancementVolumeStyle:o,CartoonVolumeStyle:i,ComposedVolumeStyle:r,EdgeEnhancementVolumeStyle:u,IsoSurfaceVolumeData:s,OpacityMapVolumeStyle:a,ProjectionVolumeStyle:l,SegmentedVolumeData:d,ShadedVolumeStyle:p,SilhouetteEnhancementVolumeStyle:m,ToneMappedVolumeStyle:c,VolumeData:y},abstractTypes:{X3DComposableVolumeRenderStyleNode:S,X3DVolumeDataNode:f,X3DVolumeRenderStyleNode:h},browser:t})})}();
